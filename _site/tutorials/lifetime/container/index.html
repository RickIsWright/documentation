{"content":"\n<p>Per Container lifetime allows a registration of an existing or resolved object as a scoped singleton in the container it was created or registered. In other words this instance is unique within the container it war registered with. Child or parent containers could have their own instances registered for the same contract.</p>\n<p>Unity returns the same instance each time the <code>Resolve</code> method is called or when the dependency mechanism injects the instance into other classes.</p>\n<h2 id=\"the-lifetime-manager\">The Lifetime Manager</h2>\n<p>Per container lifetime is controlled by <a href=\"xref:Unity.Lifetime.ContainerControlledLifetimeManager\" data-linktype=\"external\">ContainerControlledLifetimeManager</a> type. This lifetime manager effectively implements a singleton behavior for objects registered with a particular container.</p>\n<h2 id=\"registration\">Registration</h2>\n<p>Per container lifetime is supported by all registration types</p>\n<h3 id=\"example\">Example</h3>\n<p>To create a Type registration with per container lifetime:</p>\n<pre><code class=\"lang-C#\">container.RegisterType&lt;IService, Service&gt;(TypeLifetime.PerContainer);\n</code></pre>\n<p>to register a factory:</p>\n<pre><code class=\"lang-C#\">container.RegisterFactory&lt;IService&gt;((c, t, n) =&gt; new Service(),\n                                    FactoryLifetime.PerContainer);\n</code></pre>\n<p>or to register an instance:</p>\n<pre><code class=\"lang-C#\">var instance = new Service();\n\ncontainer.RegisterInstance&lt;IService&gt;(instance, InstanceLifetime.PerContainer);\n</code></pre>\n<div class=\"NOTE\">\n<h5>NOTE</h5>\n<p>Please note that registrations use <a href=\"xref:Unity.TypeLifetime#Unity_TypeLifetime_PerContainer\" data-linktype=\"external\">TypeLifetime</a>, <a href=\"xref:Unity.FactoryLifetime#Unity_FactoryLifetime_PerContainer\" data-linktype=\"external\">FactoryLifetime</a>, and <a href=\"xref:Unity.InstanceLifetime#Unity_InstanceLifetime_PerContainer\" data-linktype=\"external\">InstanceLifetime</a> respectively.</p>\n</div>\n<h2 id=\"see-also\">See Also</h2>\n<ul>\n<li><a href=\"../transient/\" data-linktype=\"relative-path\">Transient Lifetime</a></li>\n<li><a href=\"../singleton/\" data-linktype=\"relative-path\">Singleton Lifetime</a></li>\n<li><a href=\"./\" data-linktype=\"relative-path\">Per Container Lifetime</a></li>\n<li><a href=\"../container_transient/\" data-linktype=\"relative-path\">Per Container Transient</a></li>\n<li><a href=\"../hierarchical/\" data-linktype=\"relative-path\">Hierarchical Lifetime</a></li>\n<li><a href=\"../resolve/\" data-linktype=\"relative-path\">Per Resolve Lifetime</a></li>\n<li><a href=\"../thread/\" data-linktype=\"relative-path\">Per Thread Lifetime</a></li>\n<li><a href=\"../external/\" data-linktype=\"relative-path\">External Lifetime</a></li>\n</ul>\n","page":{"_appFaviconPath":"images/favicon.png","_appFooter":"<span>Copyright &copy; 2008â€“2019 <strong>Unity Container</strong> project</span>","_appLogoPath":"images/logo.svg","_appTitle":"Unity Container","_op_canonicalUrlPrefix":"https://en-us/","_op_gitContributorInformation":{"update_at":"3/23/2019","updated_at_date_time":"2019-03-23T02:03:25Z"},"_path":"tutorials/lifetime/container/index.html","_tocRel":"../../toc.json","canonical_url":"https:///en-us/tutorials/lifetime/container/","conceptual":"\n<p>Per Container lifetime allows a registration of an existing or resolved object as a scoped singleton in the container it was created or registered. In other words this instance is unique within the container it war registered with. Child or parent containers could have their own instances registered for the same contract.</p>\n<p>Unity returns the same instance each time the <code>Resolve</code> method is called or when the dependency mechanism injects the instance into other classes.</p>\n<h2 id=\"the-lifetime-manager\">The Lifetime Manager</h2>\n<p>Per container lifetime is controlled by <a href=\"xref:Unity.Lifetime.ContainerControlledLifetimeManager\" data-linktype=\"external\">ContainerControlledLifetimeManager</a> type. This lifetime manager effectively implements a singleton behavior for objects registered with a particular container.</p>\n<h2 id=\"registration\">Registration</h2>\n<p>Per container lifetime is supported by all registration types</p>\n<h3 id=\"example\">Example</h3>\n<p>To create a Type registration with per container lifetime:</p>\n<pre><code class=\"lang-C#\">container.RegisterType&lt;IService, Service&gt;(TypeLifetime.PerContainer);\n</code></pre>\n<p>to register a factory:</p>\n<pre><code class=\"lang-C#\">container.RegisterFactory&lt;IService&gt;((c, t, n) =&gt; new Service(),\n                                    FactoryLifetime.PerContainer);\n</code></pre>\n<p>or to register an instance:</p>\n<pre><code class=\"lang-C#\">var instance = new Service();\n\ncontainer.RegisterInstance&lt;IService&gt;(instance, InstanceLifetime.PerContainer);\n</code></pre>\n<div class=\"NOTE\">\n<h5>NOTE</h5>\n<p>Please note that registrations use <a href=\"xref:Unity.TypeLifetime#Unity_TypeLifetime_PerContainer\" data-linktype=\"external\">TypeLifetime</a>, <a href=\"xref:Unity.FactoryLifetime#Unity_FactoryLifetime_PerContainer\" data-linktype=\"external\">FactoryLifetime</a>, and <a href=\"xref:Unity.InstanceLifetime#Unity_InstanceLifetime_PerContainer\" data-linktype=\"external\">InstanceLifetime</a> respectively.</p>\n</div>\n<h2 id=\"see-also\">See Also</h2>\n<ul>\n<li><a href=\"../transient/\" data-linktype=\"relative-path\">Transient Lifetime</a></li>\n<li><a href=\"../singleton/\" data-linktype=\"relative-path\">Singleton Lifetime</a></li>\n<li><a href=\"./\" data-linktype=\"relative-path\">Per Container Lifetime</a></li>\n<li><a href=\"../container_transient/\" data-linktype=\"relative-path\">Per Container Transient</a></li>\n<li><a href=\"../hierarchical/\" data-linktype=\"relative-path\">Hierarchical Lifetime</a></li>\n<li><a href=\"../resolve/\" data-linktype=\"relative-path\">Per Resolve Lifetime</a></li>\n<li><a href=\"../thread/\" data-linktype=\"relative-path\">Per Thread Lifetime</a></li>\n<li><a href=\"../external/\" data-linktype=\"relative-path\">External Lifetime</a></li>\n</ul>\n","content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/lifetime/container.md","depot_name":".","document_id":"f944002f-f282-161d-59c3-dc0158b81c38","document_version_independent_id":"50f57fc6-d6aa-c252-3fee-3489768c2729","gitcommit":"https://github.com/unitycontainer/documentation/blob/5697ec296ac4a4851377c765ddf766e982c4d649/tutorials/lifetime/container.md","locale":"en-us","original_content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/lifetime/container.md","original_content_git_url_template":"{repo}/blob/{branch}/tutorials/lifetime/container.md","rawTitle":"<h1 id=\"per-container-lifetime\">Per Container Lifetime</h1>","search.ms_docsetname":"","search.ms_product":"","search.ms_sitename":"Docs","site_name":"Docs","title":"Per Container Lifetime","uid":"Tutorial.Lifetime.Container","updated_at":"2019-03-23 02:03 AM","wordCount":179},"metadata":"<meta name=\"canonical_url\" content=\"https:///en-us/tutorials/lifetime/container/\" />\r\n<meta name=\"conceptual\" content=\"\n&lt;p&gt;Per Container lifetime allows a registration of an existing or resolved object as a scoped singleton in the container it was created or registered. In other words this instance is unique within the container it war registered with. Child or parent containers could have their own instances registered for the same contract.&lt;/p&gt;\n&lt;p&gt;Unity returns the same instance each time the &lt;code&gt;Resolve&lt;/code&gt; method is called or when the dependency mechanism injects the instance into other classes.&lt;/p&gt;\n&lt;h2 id=&quot;the-lifetime-manager&quot;&gt;The Lifetime Manager&lt;/h2&gt;\n&lt;p&gt;Per container lifetime is controlled by &lt;a href=&quot;xref:Unity.Lifetime.ContainerControlledLifetimeManager&quot; data-linktype=&quot;external&quot;&gt;ContainerControlledLifetimeManager&lt;/a&gt; type. This lifetime manager effectively implements a singleton behavior for objects registered with a particular container.&lt;/p&gt;\n&lt;h2 id=&quot;registration&quot;&gt;Registration&lt;/h2&gt;\n&lt;p&gt;Per container lifetime is supported by all registration types&lt;/p&gt;\n&lt;h3 id=&quot;example&quot;&gt;Example&lt;/h3&gt;\n&lt;p&gt;To create a Type registration with per container lifetime:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=&quot;lang-C#&quot;&gt;container.RegisterType&amp;lt;IService, Service&amp;gt;(TypeLifetime.PerContainer);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;to register a factory:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=&quot;lang-C#&quot;&gt;container.RegisterFactory&amp;lt;IService&amp;gt;((c, t, n) =&amp;gt; new Service(),\n                                    FactoryLifetime.PerContainer);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or to register an instance:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=&quot;lang-C#&quot;&gt;var instance = new Service();\n\ncontainer.RegisterInstance&amp;lt;IService&amp;gt;(instance, InstanceLifetime.PerContainer);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;NOTE&quot;&gt;\n&lt;h5&gt;NOTE&lt;/h5&gt;\n&lt;p&gt;Please note that registrations use &lt;a href=&quot;xref:Unity.TypeLifetime#Unity_TypeLifetime_PerContainer&quot; data-linktype=&quot;external&quot;&gt;TypeLifetime&lt;/a&gt;, &lt;a href=&quot;xref:Unity.FactoryLifetime#Unity_FactoryLifetime_PerContainer&quot; data-linktype=&quot;external&quot;&gt;FactoryLifetime&lt;/a&gt;, and &lt;a href=&quot;xref:Unity.InstanceLifetime#Unity_InstanceLifetime_PerContainer&quot; data-linktype=&quot;external&quot;&gt;InstanceLifetime&lt;/a&gt; respectively.&lt;/p&gt;\n&lt;/div&gt;\n&lt;h2 id=&quot;see-also&quot;&gt;See Also&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;../transient/&quot; data-linktype=&quot;relative-path&quot;&gt;Transient Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../singleton/&quot; data-linktype=&quot;relative-path&quot;&gt;Singleton Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;./&quot; data-linktype=&quot;relative-path&quot;&gt;Per Container Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../container_transient/&quot; data-linktype=&quot;relative-path&quot;&gt;Per Container Transient&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../hierarchical/&quot; data-linktype=&quot;relative-path&quot;&gt;Hierarchical Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../resolve/&quot; data-linktype=&quot;relative-path&quot;&gt;Per Resolve Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../thread/&quot; data-linktype=&quot;relative-path&quot;&gt;Per Thread Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../external/&quot; data-linktype=&quot;relative-path&quot;&gt;External Lifetime&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\" />\r\n<meta name=\"content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/lifetime/container.md\" />\r\n<meta name=\"depot_name\" content=\".\" />\r\n<meta name=\"document_id\" content=\"f944002f-f282-161d-59c3-dc0158b81c38\" />\r\n<meta name=\"document_version_independent_id\" content=\"50f57fc6-d6aa-c252-3fee-3489768c2729\" />\r\n<meta name=\"gitcommit\" content=\"https://github.com/unitycontainer/documentation/blob/5697ec296ac4a4851377c765ddf766e982c4d649/tutorials/lifetime/container.md\" />\r\n<meta name=\"locale\" content=\"en-us\" />\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/lifetime/container.md\" />\r\n<meta name=\"original_content_git_url_template\" content=\"{repo}/blob/{branch}/tutorials/lifetime/container.md\" />\r\n<meta name=\"rawTitle\" content=\"&lt;h1 id=&quot;per-container-lifetime&quot;&gt;Per Container Lifetime&lt;/h1&gt;\" />\r\n<meta name=\"search.ms_docsetname\" content=\"\" />\r\n<meta name=\"search.ms_product\" content=\"\" />\r\n<meta name=\"search.ms_sitename\" content=\"Docs\" />\r\n<meta name=\"site_name\" content=\"Docs\" />\r\n<meta name=\"title\" content=\"Per Container Lifetime\" />\r\n<meta name=\"uid\" content=\"Tutorial.Lifetime.Container\" />\r\n<meta name=\"updated_at\" content=\"2019-03-23 02:03 AM\" />\r\n<meta name=\"wordCount\" content=\"179\" />\r\n<meta name=\"is_dynamic_rendering\" content=\"true\" />\r\n","theme_rel":"..\\..\\..\\_themes"}