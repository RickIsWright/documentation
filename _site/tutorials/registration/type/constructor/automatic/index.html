{"content":"\n<p>Proper selection of the constructor used for type instantiation is one of the most important aspects of the container operation. When creating an object, the container uses one of the following algorithms to select a constructor it will be using to initialize the object:</p>\n<ul>\n<li><p><a href=\"../constructor/\" data-linktype=\"relative-path\">Constructor Injection using explicit registration</a>. With this technique, you register the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> and apply an <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">Injection Constructor</a> that specifies the dependencies to the registration. For more information see <a href=\"../constructor/\" data-linktype=\"relative-path\">Constructor Injection</a></p>\n</li>\n<li><p><a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Constructor Annotation</a>. With this technique, you apply attribute to a class constructor that is used for injection. For more information see <a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Annotating Type for Constructor Injection</a></p>\n</li>\n<li><p><strong>Automatic Constructor Selection</strong>. This technique is used by the Unity container to select a constructor and to satisfy any constructor dependencies defined in parameters of the constructor if no <a href=\"../../../../annotation/annotation/\" data-linktype=\"relative-path\">Annotation</a> or <a href=\"../../../registration/\" data-linktype=\"relative-path\">Registration</a> exists.</p>\n</li>\n</ul>\n<h2 id=\"automatic-constructor-selection\">Automatic Constructor Selection</h2>\n<p>Automatic constructor selection is performed if no other information is available on how to create a <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a>. Unity uses dynamic, real time algorithm to discover and select a constructor.</p>\n<p>The Unity container will try to execute the most complex constructor it can provide with appropriate dependencies. In other words, if the container can resolve and/or inject all parameters of the constructor, it will be selected.</p>\n<h3 id=\"creating-build-pipeline\">Creating Build Pipeline</h3>\n<p>Selection process takes place during the first resolution of a <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> contract. Unity container employs lazy resolution strategy. It will defer pipeline creation until the contract (<a href=\"../../../metadata/\" data-linktype=\"relative-path\">RegistrationType and Name</a>) is requested.</p>\n<p>The lazy approach allows registrations to proceed at random order and do not require dependencies to be registered before dependents. As long as all of these are available at the time of resolution Unity does not care in what order they were registered.</p>\n<h3 id=\"constructor-selection-steps\">Constructor Selection Steps</h3>\n<p>One of the first steps, when creating a pipeline, is a constructor selection. Constructors are selected in the following order:</p>\n<ul>\n<li>If present, use registered <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">Injection Constructor</a></li>\n<li>If present, annotated with an attribute</li>\n<li>Automatically select constructor\n<ul>\n<li>Get all accessible constructors</li>\n<li>Process constructors in ascending order from most complex to the default\n<ul>\n<li>Filter out <a href=\"../constructor/#restrictions\" data-linktype=\"relative-path\">restricted</a> constructors</li>\n<li>Loop through parameters and check if\n<ul>\n<li>Is primitive\n<ul>\n<li>Is registered with the container</li>\n<li>Has <em>default</em> value</li>\n</ul>\n</li>\n<li>Is resolvable type</li>\n<li>Is registered with container</li>\n</ul>\n</li>\n<li>Select the first constructor the container can create</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The Unity container will select the first successful match and use it as a selection.</p>\n<div class=\"WARNING\">\n<h5>WARNING</h5>\n<p>When more than one constructor could be matched at the same time, the order and constructor selection can not be guaranteed.</p>\n</div>\n<p>During normal operation the container does not perform validation.</p>\n<div class=\"NOTE\">\n<h5>NOTE</h5>\n<p>If <a href=\"../../../../extensions/diagnostic/\" data-linktype=\"relative-path\">Diagnostic</a> extension is enabled, Unity will perform a selection validation and will throw an exception, reporting ambiguous constructors, if more than one constructor can be successfully selected with current configuration.</p>\n</div>\n<p>If no constructor could be selected, the container will throw an exception.</p>\n<h3 id=\"pipeline-retention\">Pipeline retention</h3>\n<p>Once the pipeline is created, it will be used to satisfy all subsequent requests for that contract. If you need to update or rebuild the pipeline, the contract has to be re-registered.</p>\n\n<p><strong>See Also:</strong></p>\n<ul>\n<li><a href=\"../annotation/\" data-linktype=\"relative-path\">Constructor Annotation</a></li>\n<li><a href=\"../param_none/\" data-linktype=\"relative-path\">Invoke default constructor</a></li>\n<li><a href=\"../param_count/\" data-linktype=\"relative-path\">Select constructors by parameters count</a></li>\n<li><a href=\"../param_types/\" data-linktype=\"relative-path\">Select constructors by parameter types</a></li>\n<li><a href=\"../param_values/\" data-linktype=\"relative-path\">Select constructors based on injected values</a></li>\n</ul>\n","page":{"_appFaviconPath":"images/favicon.png","_appFooter":"<span>Copyright &copy; 2008â€“2019 <strong>Unity Container</strong> project</span>","_appLogoPath":"images/logo.svg","_appTitle":"Unity Container","_op_canonicalUrlPrefix":"https://en-us/","_op_gitContributorInformation":{"update_at":"4/30/2019","updated_at_date_time":"2019-04-30T00:00:11Z"},"_path":"tutorials/registration/type/constructor/automatic/index.html","_tocRel":"../../../../toc.json","canonical_url":"https:///en-us/tutorials/registration/type/constructor/automatic/","conceptual":"\n<p>Proper selection of the constructor used for type instantiation is one of the most important aspects of the container operation. When creating an object, the container uses one of the following algorithms to select a constructor it will be using to initialize the object:</p>\n<ul>\n<li><p><a href=\"../constructor/\" data-linktype=\"relative-path\">Constructor Injection using explicit registration</a>. With this technique, you register the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> and apply an <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">Injection Constructor</a> that specifies the dependencies to the registration. For more information see <a href=\"../constructor/\" data-linktype=\"relative-path\">Constructor Injection</a></p>\n</li>\n<li><p><a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Constructor Annotation</a>. With this technique, you apply attribute to a class constructor that is used for injection. For more information see <a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Annotating Type for Constructor Injection</a></p>\n</li>\n<li><p><strong>Automatic Constructor Selection</strong>. This technique is used by the Unity container to select a constructor and to satisfy any constructor dependencies defined in parameters of the constructor if no <a href=\"../../../../annotation/annotation/\" data-linktype=\"relative-path\">Annotation</a> or <a href=\"../../../registration/\" data-linktype=\"relative-path\">Registration</a> exists.</p>\n</li>\n</ul>\n<h2 id=\"automatic-constructor-selection\">Automatic Constructor Selection</h2>\n<p>Automatic constructor selection is performed if no other information is available on how to create a <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a>. Unity uses dynamic, real time algorithm to discover and select a constructor.</p>\n<p>The Unity container will try to execute the most complex constructor it can provide with appropriate dependencies. In other words, if the container can resolve and/or inject all parameters of the constructor, it will be selected.</p>\n<h3 id=\"creating-build-pipeline\">Creating Build Pipeline</h3>\n<p>Selection process takes place during the first resolution of a <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> contract. Unity container employs lazy resolution strategy. It will defer pipeline creation until the contract (<a href=\"../../../metadata/\" data-linktype=\"relative-path\">RegistrationType and Name</a>) is requested.</p>\n<p>The lazy approach allows registrations to proceed at random order and do not require dependencies to be registered before dependents. As long as all of these are available at the time of resolution Unity does not care in what order they were registered.</p>\n<h3 id=\"constructor-selection-steps\">Constructor Selection Steps</h3>\n<p>One of the first steps, when creating a pipeline, is a constructor selection. Constructors are selected in the following order:</p>\n<ul>\n<li>If present, use registered <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">Injection Constructor</a></li>\n<li>If present, annotated with an attribute</li>\n<li>Automatically select constructor\n<ul>\n<li>Get all accessible constructors</li>\n<li>Process constructors in ascending order from most complex to the default\n<ul>\n<li>Filter out <a href=\"../constructor/#restrictions\" data-linktype=\"relative-path\">restricted</a> constructors</li>\n<li>Loop through parameters and check if\n<ul>\n<li>Is primitive\n<ul>\n<li>Is registered with the container</li>\n<li>Has <em>default</em> value</li>\n</ul>\n</li>\n<li>Is resolvable type</li>\n<li>Is registered with container</li>\n</ul>\n</li>\n<li>Select the first constructor the container can create</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The Unity container will select the first successful match and use it as a selection.</p>\n<div class=\"WARNING\">\n<h5>WARNING</h5>\n<p>When more than one constructor could be matched at the same time, the order and constructor selection can not be guaranteed.</p>\n</div>\n<p>During normal operation the container does not perform validation.</p>\n<div class=\"NOTE\">\n<h5>NOTE</h5>\n<p>If <a href=\"../../../../extensions/diagnostic/\" data-linktype=\"relative-path\">Diagnostic</a> extension is enabled, Unity will perform a selection validation and will throw an exception, reporting ambiguous constructors, if more than one constructor can be successfully selected with current configuration.</p>\n</div>\n<p>If no constructor could be selected, the container will throw an exception.</p>\n<h3 id=\"pipeline-retention\">Pipeline retention</h3>\n<p>Once the pipeline is created, it will be used to satisfy all subsequent requests for that contract. If you need to update or rebuild the pipeline, the contract has to be re-registered.</p>\n\n<p><strong>See Also:</strong></p>\n<ul>\n<li><a href=\"../annotation/\" data-linktype=\"relative-path\">Constructor Annotation</a></li>\n<li><a href=\"../param_none/\" data-linktype=\"relative-path\">Invoke default constructor</a></li>\n<li><a href=\"../param_count/\" data-linktype=\"relative-path\">Select constructors by parameters count</a></li>\n<li><a href=\"../param_types/\" data-linktype=\"relative-path\">Select constructors by parameter types</a></li>\n<li><a href=\"../param_values/\" data-linktype=\"relative-path\">Select constructors based on injected values</a></li>\n</ul>\n","content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/automatic.md","depot_name":".","document_id":"c1e7c148-cf93-2de0-cc54-32701d701632","document_version_independent_id":"eca76e28-a114-ec13-d320-563b416d21f4","gitcommit":"https://github.com/unitycontainer/documentation/blob/704b5031aaedb4ba2af139c76a605c3c9b409600/tutorials/registration/Type/Constructor/automatic.md","locale":"en-us","original_content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/automatic.md","original_content_git_url_template":"{repo}/blob/{branch}/tutorials/registration/Type/Constructor/automatic.md","rawTitle":"<h1 id=\"selecting-constructor\">Selecting Constructor</h1>","search.ms_docsetname":"","search.ms_product":"","search.ms_sitename":"Docs","site_name":"Docs","title":"Automatic Constructor Injection","uid":"Tutorial.Injection.Constructor.Implicit","updated_at":"2019-04-30 12:00 AM","wordCount":513},"metadata":"<meta name=\"canonical_url\" content=\"https:///en-us/tutorials/registration/type/constructor/automatic/\" />\r\n<meta name=\"conceptual\" content=\"\n&lt;p&gt;Proper selection of the constructor used for type instantiation is one of the most important aspects of the container operation. When creating an object, the container uses one of the following algorithms to select a constructor it will be using to initialize the object:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;../constructor/&quot; data-linktype=&quot;relative-path&quot;&gt;Constructor Injection using explicit registration&lt;/a&gt;. With this technique, you register the &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt; and apply an &lt;a href=&quot;xref:Unity.Injection.InjectionConstructor&quot; data-linktype=&quot;external&quot;&gt;Injection Constructor&lt;/a&gt; that specifies the dependencies to the registration. For more information see &lt;a href=&quot;../constructor/&quot; data-linktype=&quot;relative-path&quot;&gt;Constructor Injection&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;../../../../annotation/constructor/&quot; data-linktype=&quot;relative-path&quot;&gt;Constructor Annotation&lt;/a&gt;. With this technique, you apply attribute to a class constructor that is used for injection. For more information see &lt;a href=&quot;../../../../annotation/constructor/&quot; data-linktype=&quot;relative-path&quot;&gt;Annotating Type for Constructor Injection&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Automatic Constructor Selection&lt;/strong&gt;. This technique is used by the Unity container to select a constructor and to satisfy any constructor dependencies defined in parameters of the constructor if no &lt;a href=&quot;../../../../annotation/annotation/&quot; data-linktype=&quot;relative-path&quot;&gt;Annotation&lt;/a&gt; or &lt;a href=&quot;../../../registration/&quot; data-linktype=&quot;relative-path&quot;&gt;Registration&lt;/a&gt; exists.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=&quot;automatic-constructor-selection&quot;&gt;Automatic Constructor Selection&lt;/h2&gt;\n&lt;p&gt;Automatic constructor selection is performed if no other information is available on how to create a &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt;. Unity uses dynamic, real time algorithm to discover and select a constructor.&lt;/p&gt;\n&lt;p&gt;The Unity container will try to execute the most complex constructor it can provide with appropriate dependencies. In other words, if the container can resolve and/or inject all parameters of the constructor, it will be selected.&lt;/p&gt;\n&lt;h3 id=&quot;creating-build-pipeline&quot;&gt;Creating Build Pipeline&lt;/h3&gt;\n&lt;p&gt;Selection process takes place during the first resolution of a &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt; contract. Unity container employs lazy resolution strategy. It will defer pipeline creation until the contract (&lt;a href=&quot;../../../metadata/&quot; data-linktype=&quot;relative-path&quot;&gt;RegistrationType and Name&lt;/a&gt;) is requested.&lt;/p&gt;\n&lt;p&gt;The lazy approach allows registrations to proceed at random order and do not require dependencies to be registered before dependents. As long as all of these are available at the time of resolution Unity does not care in what order they were registered.&lt;/p&gt;\n&lt;h3 id=&quot;constructor-selection-steps&quot;&gt;Constructor Selection Steps&lt;/h3&gt;\n&lt;p&gt;One of the first steps, when creating a pipeline, is a constructor selection. Constructors are selected in the following order:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;If present, use registered &lt;a href=&quot;xref:Unity.Injection.InjectionConstructor&quot; data-linktype=&quot;external&quot;&gt;Injection Constructor&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;If present, annotated with an attribute&lt;/li&gt;\n&lt;li&gt;Automatically select constructor\n&lt;ul&gt;\n&lt;li&gt;Get all accessible constructors&lt;/li&gt;\n&lt;li&gt;Process constructors in ascending order from most complex to the default\n&lt;ul&gt;\n&lt;li&gt;Filter out &lt;a href=&quot;../constructor/#restrictions&quot; data-linktype=&quot;relative-path&quot;&gt;restricted&lt;/a&gt; constructors&lt;/li&gt;\n&lt;li&gt;Loop through parameters and check if\n&lt;ul&gt;\n&lt;li&gt;Is primitive\n&lt;ul&gt;\n&lt;li&gt;Is registered with the container&lt;/li&gt;\n&lt;li&gt;Has &lt;em&gt;default&lt;/em&gt; value&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;Is resolvable type&lt;/li&gt;\n&lt;li&gt;Is registered with container&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;Select the first constructor the container can create&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;The Unity container will select the first successful match and use it as a selection.&lt;/p&gt;\n&lt;div class=&quot;WARNING&quot;&gt;\n&lt;h5&gt;WARNING&lt;/h5&gt;\n&lt;p&gt;When more than one constructor could be matched at the same time, the order and constructor selection can not be guaranteed.&lt;/p&gt;\n&lt;/div&gt;\n&lt;p&gt;During normal operation the container does not perform validation.&lt;/p&gt;\n&lt;div class=&quot;NOTE&quot;&gt;\n&lt;h5&gt;NOTE&lt;/h5&gt;\n&lt;p&gt;If &lt;a href=&quot;../../../../extensions/diagnostic/&quot; data-linktype=&quot;relative-path&quot;&gt;Diagnostic&lt;/a&gt; extension is enabled, Unity will perform a selection validation and will throw an exception, reporting ambiguous constructors, if more than one constructor can be successfully selected with current configuration.&lt;/p&gt;\n&lt;/div&gt;\n&lt;p&gt;If no constructor could be selected, the container will throw an exception.&lt;/p&gt;\n&lt;h3 id=&quot;pipeline-retention&quot;&gt;Pipeline retention&lt;/h3&gt;\n&lt;p&gt;Once the pipeline is created, it will be used to satisfy all subsequent requests for that contract. If you need to update or rebuild the pipeline, the contract has to be re-registered.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;See Also:&lt;/strong&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;../annotation/&quot; data-linktype=&quot;relative-path&quot;&gt;Constructor Annotation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_none/&quot; data-linktype=&quot;relative-path&quot;&gt;Invoke default constructor&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_count/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors by parameters count&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_types/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors by parameter types&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_values/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors based on injected values&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\" />\r\n<meta name=\"content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/automatic.md\" />\r\n<meta name=\"depot_name\" content=\".\" />\r\n<meta name=\"document_id\" content=\"c1e7c148-cf93-2de0-cc54-32701d701632\" />\r\n<meta name=\"document_version_independent_id\" content=\"eca76e28-a114-ec13-d320-563b416d21f4\" />\r\n<meta name=\"gitcommit\" content=\"https://github.com/unitycontainer/documentation/blob/704b5031aaedb4ba2af139c76a605c3c9b409600/tutorials/registration/Type/Constructor/automatic.md\" />\r\n<meta name=\"locale\" content=\"en-us\" />\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/automatic.md\" />\r\n<meta name=\"original_content_git_url_template\" content=\"{repo}/blob/{branch}/tutorials/registration/Type/Constructor/automatic.md\" />\r\n<meta name=\"rawTitle\" content=\"&lt;h1 id=&quot;selecting-constructor&quot;&gt;Selecting Constructor&lt;/h1&gt;\" />\r\n<meta name=\"search.ms_docsetname\" content=\"\" />\r\n<meta name=\"search.ms_product\" content=\"\" />\r\n<meta name=\"search.ms_sitename\" content=\"Docs\" />\r\n<meta name=\"site_name\" content=\"Docs\" />\r\n<meta name=\"title\" content=\"Automatic Constructor Injection\" />\r\n<meta name=\"uid\" content=\"Tutorial.Injection.Constructor.Implicit\" />\r\n<meta name=\"updated_at\" content=\"2019-04-30 12:00 AM\" />\r\n<meta name=\"wordCount\" content=\"513\" />\r\n<meta name=\"is_dynamic_rendering\" content=\"true\" />\r\n","theme_rel":"..\\..\\..\\..\\..\\_themes"}