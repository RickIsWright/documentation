{"content":"\n<p>Constructor Injection is a process where Unity selects a constructor, resolves parameter dependencies, and executes the constructor by injecting it with resolved or injected dependencies.</p>\n<h2 id=\"restrictions\">Restrictions</h2>\n<p>Unity can be configured to execute any accessible constructor with the following exceptions:</p>\n<ul>\n<li><code>static</code> constructors are not supported</li>\n<li><code>private</code> and <code>protected</code> constructors are not accessible</li>\n<li>Constructors with <code>ref</code> and <code>out</code> parameters are not supported</li>\n</ul>\n<h2 id=\"selection-methods\">Selection Methods</h2>\n<p>Selecting a constructor is one of the first steps in creating a resolution pipeline. Unity supports the following selection methods:</p>\n<h3 id=\"automatic-selection\">Automatic Selection</h3>\n<p>Automatic Selection is a default method of selecting constructors. It will be used if no constructor is injected or annotated.</p>\n<p>By default Unity uses 'smart' algorithm to select constructor. It sorts all accessible constructors by number of parameters in ascending order and goes from most complex to the default, checking if it can satisfy its parameters. The container selects the first constructor it can create and executes it.</p>\n<div class=\"WARNING\">\n<h5>WARNING</h5>\n<p>Unity will not check for ambiguities unless <a href=\"../../../../extensions/diagnostic/\" data-linktype=\"relative-path\">Diagnostic</a> extension is installed.</p>\n</div>\n<div class=\"TIP\">\n<h5>TIP</h5>\n<p>Legacy selection algorithm which selects the most complex constructor could be enabled by installing <code>Legacy</code> extension. It will replace and disable 'smart' selection.</p>\n</div>\n<h3 id=\"constructor-annotation\">Constructor Annotation</h3>\n<p>Constructor annotated with <a href=\"xref:Unity.InjectionConstructorAttribute\" data-linktype=\"external\">InjectionConstructor</a> attribute overrides automatic selection. For more information see <a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Annotating Type for Constructor Injection</a></p>\n<h3 id=\"constructor-injection-1\">Constructor injection</h3>\n<p>Constructor configuration registered for the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> has highest priority. It will override other selection methods and will always execute the configured constructor.</p>\n<p>As opposed to methods, constructors do not have a name to distinguish one from the other. The only difference between constructors is number and <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> of parameters they take. Because of that constructor selection is based solely on parameters and its types.</p>\n<h4 id=\"invoking-the-constructor\">Invoking the Constructor</h4>\n<p>Invoked constructor and injection of its parameters is configured by registering the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> with the <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a>. Creating the <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a> with proper injection members or values determines what constructor is selected and how parameters are initialized. Values and resolvers added to <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a> will be used to initialize parameters of the constructor of the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a>. The following aspects could be configured:</p>\n<ul>\n<li>Parameter <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a></li>\n<li>Force resolution of parameter</li>\n<li>Specify the Contract/Registration Name to by used when resolving</li>\n<li>Provide a Resolver for the parameter</li>\n<li>Provide value</li>\n</ul>\n<div class=\"TIP\">\n<h5>TIP</h5>\n<p>As alternative, helper <a href=\"xref:Unity.Invoke#Unity_Invoke_Constructor\" data-linktype=\"external\">Invoke.Constructor(...)</a> can be used to configure invoked constructor.</p>\n</div>\n<h4 id=\"see-also\">See Also</h4>\n<ul>\n<li><a href=\"../automatic/\" data-linktype=\"relative-path\">Implicit Constructor Registration</a></li>\n<li><a href=\"../annotation/\" data-linktype=\"relative-path\">Constructor Annotation</a></li>\n<li><a href=\"../param_none/\" data-linktype=\"relative-path\">Invoke default constructor</a></li>\n<li><a href=\"../param_count/\" data-linktype=\"relative-path\">Select constructors by parameters count</a></li>\n<li><a href=\"../param_types/\" data-linktype=\"relative-path\">Select constructors by parameter types</a></li>\n<li><a href=\"../param_values/\" data-linktype=\"relative-path\">Select constructors based on injected values</a></li>\n</ul>\n","page":{"_appFaviconPath":"images/favicon.png","_appFooter":"<span>Copyright &copy; 2008â€“2019 <strong>Unity Container</strong> project</span>","_appLogoPath":"images/logo.svg","_appTitle":"Unity Container","_op_canonicalUrlPrefix":"https://en-us/","_op_gitContributorInformation":{"update_at":"4/5/2019","updated_at_date_time":"2019-04-05T01:56:47Z"},"_path":"tutorials/registration/type/constructor/constructor/index.html","_tocRel":"../../../../toc.json","canonical_url":"https:///en-us/tutorials/registration/type/constructor/constructor/","conceptual":"\n<p>Constructor Injection is a process where Unity selects a constructor, resolves parameter dependencies, and executes the constructor by injecting it with resolved or injected dependencies.</p>\n<h2 id=\"restrictions\">Restrictions</h2>\n<p>Unity can be configured to execute any accessible constructor with the following exceptions:</p>\n<ul>\n<li><code>static</code> constructors are not supported</li>\n<li><code>private</code> and <code>protected</code> constructors are not accessible</li>\n<li>Constructors with <code>ref</code> and <code>out</code> parameters are not supported</li>\n</ul>\n<h2 id=\"selection-methods\">Selection Methods</h2>\n<p>Selecting a constructor is one of the first steps in creating a resolution pipeline. Unity supports the following selection methods:</p>\n<h3 id=\"automatic-selection\">Automatic Selection</h3>\n<p>Automatic Selection is a default method of selecting constructors. It will be used if no constructor is injected or annotated.</p>\n<p>By default Unity uses 'smart' algorithm to select constructor. It sorts all accessible constructors by number of parameters in ascending order and goes from most complex to the default, checking if it can satisfy its parameters. The container selects the first constructor it can create and executes it.</p>\n<div class=\"WARNING\">\n<h5>WARNING</h5>\n<p>Unity will not check for ambiguities unless <a href=\"../../../../extensions/diagnostic/\" data-linktype=\"relative-path\">Diagnostic</a> extension is installed.</p>\n</div>\n<div class=\"TIP\">\n<h5>TIP</h5>\n<p>Legacy selection algorithm which selects the most complex constructor could be enabled by installing <code>Legacy</code> extension. It will replace and disable 'smart' selection.</p>\n</div>\n<h3 id=\"constructor-annotation\">Constructor Annotation</h3>\n<p>Constructor annotated with <a href=\"xref:Unity.InjectionConstructorAttribute\" data-linktype=\"external\">InjectionConstructor</a> attribute overrides automatic selection. For more information see <a href=\"../../../../annotation/constructor/\" data-linktype=\"relative-path\">Annotating Type for Constructor Injection</a></p>\n<h3 id=\"constructor-injection-1\">Constructor injection</h3>\n<p>Constructor configuration registered for the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> has highest priority. It will override other selection methods and will always execute the configured constructor.</p>\n<p>As opposed to methods, constructors do not have a name to distinguish one from the other. The only difference between constructors is number and <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> of parameters they take. Because of that constructor selection is based solely on parameters and its types.</p>\n<h4 id=\"invoking-the-constructor\">Invoking the Constructor</h4>\n<p>Invoked constructor and injection of its parameters is configured by registering the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a> with the <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a>. Creating the <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a> with proper injection members or values determines what constructor is selected and how parameters are initialized. Values and resolvers added to <a href=\"xref:Unity.Injection.InjectionConstructor\" data-linktype=\"external\">InjectionConstructor</a> will be used to initialize parameters of the constructor of the <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a>. The following aspects could be configured:</p>\n<ul>\n<li>Parameter <a href=\"xref:System.Type\" data-linktype=\"external\">Type</a></li>\n<li>Force resolution of parameter</li>\n<li>Specify the Contract/Registration Name to by used when resolving</li>\n<li>Provide a Resolver for the parameter</li>\n<li>Provide value</li>\n</ul>\n<div class=\"TIP\">\n<h5>TIP</h5>\n<p>As alternative, helper <a href=\"xref:Unity.Invoke#Unity_Invoke_Constructor\" data-linktype=\"external\">Invoke.Constructor(...)</a> can be used to configure invoked constructor.</p>\n</div>\n<h4 id=\"see-also\">See Also</h4>\n<ul>\n<li><a href=\"../automatic/\" data-linktype=\"relative-path\">Implicit Constructor Registration</a></li>\n<li><a href=\"../annotation/\" data-linktype=\"relative-path\">Constructor Annotation</a></li>\n<li><a href=\"../param_none/\" data-linktype=\"relative-path\">Invoke default constructor</a></li>\n<li><a href=\"../param_count/\" data-linktype=\"relative-path\">Select constructors by parameters count</a></li>\n<li><a href=\"../param_types/\" data-linktype=\"relative-path\">Select constructors by parameter types</a></li>\n<li><a href=\"../param_values/\" data-linktype=\"relative-path\">Select constructors based on injected values</a></li>\n</ul>\n","content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/constructor.md","depot_name":".","document_id":"3d0b4d82-1433-301e-4a5a-ca84297b7a66","document_version_independent_id":"2187b1df-e919-dcb8-3c5d-9436f9b6eb4b","gitcommit":"https://github.com/unitycontainer/documentation/blob/0db2003d37b8f4c0715b03ac831d1d35afe0cd18/tutorials/registration/Type/Constructor/constructor.md","locale":"en-us","original_content_git_url":"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/constructor.md","original_content_git_url_template":"{repo}/blob/{branch}/tutorials/registration/Type/Constructor/constructor.md","rawTitle":"<h1 id=\"constructor-injection\">Constructor Injection</h1>","search.ms_docsetname":"","search.ms_product":"","search.ms_sitename":"Docs","site_name":"Docs","title":"Constructor Injection","uid":"Tutorial.Injection.Constructor","updated_at":"2019-04-05 01:56 AM","wordCount":396},"metadata":"<meta name=\"canonical_url\" content=\"https:///en-us/tutorials/registration/type/constructor/constructor/\" />\r\n<meta name=\"conceptual\" content=\"\n&lt;p&gt;Constructor Injection is a process where Unity selects a constructor, resolves parameter dependencies, and executes the constructor by injecting it with resolved or injected dependencies.&lt;/p&gt;\n&lt;h2 id=&quot;restrictions&quot;&gt;Restrictions&lt;/h2&gt;\n&lt;p&gt;Unity can be configured to execute any accessible constructor with the following exceptions:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;static&lt;/code&gt; constructors are not supported&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;private&lt;/code&gt; and &lt;code&gt;protected&lt;/code&gt; constructors are not accessible&lt;/li&gt;\n&lt;li&gt;Constructors with &lt;code&gt;ref&lt;/code&gt; and &lt;code&gt;out&lt;/code&gt; parameters are not supported&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=&quot;selection-methods&quot;&gt;Selection Methods&lt;/h2&gt;\n&lt;p&gt;Selecting a constructor is one of the first steps in creating a resolution pipeline. Unity supports the following selection methods:&lt;/p&gt;\n&lt;h3 id=&quot;automatic-selection&quot;&gt;Automatic Selection&lt;/h3&gt;\n&lt;p&gt;Automatic Selection is a default method of selecting constructors. It will be used if no constructor is injected or annotated.&lt;/p&gt;\n&lt;p&gt;By default Unity uses &#39;smart&#39; algorithm to select constructor. It sorts all accessible constructors by number of parameters in ascending order and goes from most complex to the default, checking if it can satisfy its parameters. The container selects the first constructor it can create and executes it.&lt;/p&gt;\n&lt;div class=&quot;WARNING&quot;&gt;\n&lt;h5&gt;WARNING&lt;/h5&gt;\n&lt;p&gt;Unity will not check for ambiguities unless &lt;a href=&quot;../../../../extensions/diagnostic/&quot; data-linktype=&quot;relative-path&quot;&gt;Diagnostic&lt;/a&gt; extension is installed.&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;TIP&quot;&gt;\n&lt;h5&gt;TIP&lt;/h5&gt;\n&lt;p&gt;Legacy selection algorithm which selects the most complex constructor could be enabled by installing &lt;code&gt;Legacy&lt;/code&gt; extension. It will replace and disable &#39;smart&#39; selection.&lt;/p&gt;\n&lt;/div&gt;\n&lt;h3 id=&quot;constructor-annotation&quot;&gt;Constructor Annotation&lt;/h3&gt;\n&lt;p&gt;Constructor annotated with &lt;a href=&quot;xref:Unity.InjectionConstructorAttribute&quot; data-linktype=&quot;external&quot;&gt;InjectionConstructor&lt;/a&gt; attribute overrides automatic selection. For more information see &lt;a href=&quot;../../../../annotation/constructor/&quot; data-linktype=&quot;relative-path&quot;&gt;Annotating Type for Constructor Injection&lt;/a&gt;&lt;/p&gt;\n&lt;h3 id=&quot;constructor-injection-1&quot;&gt;Constructor injection&lt;/h3&gt;\n&lt;p&gt;Constructor configuration registered for the &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt; has highest priority. It will override other selection methods and will always execute the configured constructor.&lt;/p&gt;\n&lt;p&gt;As opposed to methods, constructors do not have a name to distinguish one from the other. The only difference between constructors is number and &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt; of parameters they take. Because of that constructor selection is based solely on parameters and its types.&lt;/p&gt;\n&lt;h4 id=&quot;invoking-the-constructor&quot;&gt;Invoking the Constructor&lt;/h4&gt;\n&lt;p&gt;Invoked constructor and injection of its parameters is configured by registering the &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt; with the &lt;a href=&quot;xref:Unity.Injection.InjectionConstructor&quot; data-linktype=&quot;external&quot;&gt;InjectionConstructor&lt;/a&gt;. Creating the &lt;a href=&quot;xref:Unity.Injection.InjectionConstructor&quot; data-linktype=&quot;external&quot;&gt;InjectionConstructor&lt;/a&gt; with proper injection members or values determines what constructor is selected and how parameters are initialized. Values and resolvers added to &lt;a href=&quot;xref:Unity.Injection.InjectionConstructor&quot; data-linktype=&quot;external&quot;&gt;InjectionConstructor&lt;/a&gt; will be used to initialize parameters of the constructor of the &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt;. The following aspects could be configured:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Parameter &lt;a href=&quot;xref:System.Type&quot; data-linktype=&quot;external&quot;&gt;Type&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Force resolution of parameter&lt;/li&gt;\n&lt;li&gt;Specify the Contract/Registration Name to by used when resolving&lt;/li&gt;\n&lt;li&gt;Provide a Resolver for the parameter&lt;/li&gt;\n&lt;li&gt;Provide value&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=&quot;TIP&quot;&gt;\n&lt;h5&gt;TIP&lt;/h5&gt;\n&lt;p&gt;As alternative, helper &lt;a href=&quot;xref:Unity.Invoke#Unity_Invoke_Constructor&quot; data-linktype=&quot;external&quot;&gt;Invoke.Constructor(...)&lt;/a&gt; can be used to configure invoked constructor.&lt;/p&gt;\n&lt;/div&gt;\n&lt;h4 id=&quot;see-also&quot;&gt;See Also&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;../automatic/&quot; data-linktype=&quot;relative-path&quot;&gt;Implicit Constructor Registration&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../annotation/&quot; data-linktype=&quot;relative-path&quot;&gt;Constructor Annotation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_none/&quot; data-linktype=&quot;relative-path&quot;&gt;Invoke default constructor&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_count/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors by parameters count&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_types/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors by parameter types&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;../param_values/&quot; data-linktype=&quot;relative-path&quot;&gt;Select constructors based on injected values&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\" />\r\n<meta name=\"content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/constructor.md\" />\r\n<meta name=\"depot_name\" content=\".\" />\r\n<meta name=\"document_id\" content=\"3d0b4d82-1433-301e-4a5a-ca84297b7a66\" />\r\n<meta name=\"document_version_independent_id\" content=\"2187b1df-e919-dcb8-3c5d-9436f9b6eb4b\" />\r\n<meta name=\"gitcommit\" content=\"https://github.com/unitycontainer/documentation/blob/0db2003d37b8f4c0715b03ac831d1d35afe0cd18/tutorials/registration/Type/Constructor/constructor.md\" />\r\n<meta name=\"locale\" content=\"en-us\" />\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/unitycontainer/documentation/blob/develop/tutorials/registration/Type/Constructor/constructor.md\" />\r\n<meta name=\"original_content_git_url_template\" content=\"{repo}/blob/{branch}/tutorials/registration/Type/Constructor/constructor.md\" />\r\n<meta name=\"rawTitle\" content=\"&lt;h1 id=&quot;constructor-injection&quot;&gt;Constructor Injection&lt;/h1&gt;\" />\r\n<meta name=\"search.ms_docsetname\" content=\"\" />\r\n<meta name=\"search.ms_product\" content=\"\" />\r\n<meta name=\"search.ms_sitename\" content=\"Docs\" />\r\n<meta name=\"site_name\" content=\"Docs\" />\r\n<meta name=\"title\" content=\"Constructor Injection\" />\r\n<meta name=\"uid\" content=\"Tutorial.Injection.Constructor\" />\r\n<meta name=\"updated_at\" content=\"2019-04-05 01:56 AM\" />\r\n<meta name=\"wordCount\" content=\"396\" />\r\n<meta name=\"is_dynamic_rendering\" content=\"true\" />\r\n","theme_rel":"..\\..\\..\\..\\..\\_themes"}